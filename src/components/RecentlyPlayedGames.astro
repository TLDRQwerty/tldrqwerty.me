---
import Image from "@components/Image.astro";
import Link from "@components/Link.astro";
import { getRecentlyPlayedGames } from "@services/steam";

const response = await getRecentlyPlayedGames();

const games = response?.games ?? [];
---

<ul class="flex flex-row overflow-x-auto p-4 gap-4 snap-x">
	{
		games.map((game) => (
			<li class="snap-start">
				<Link href={`/games/${game.appid}`}>
					<Image
						src={`https://cdn.akamai.steamstatic.com/steam/apps/${game.appid}/header.jpg?`}
						alt={game.name}
						class="min-w-64"
					/>
					<p>{game.name}</p>
					<p>{(game.playtime_forever / 60).toFixed(1)} Hours</p>
				</Link>
			</li>
		))
	}
</ul>
